<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Hotfolder Auto-Open</title>
<style>
  :root {
    --font-base: 12px;
    --font-family: "Segoe UI", "SF Pro Text", "Inter", "Roboto", "Helvetica Neue", Arial, sans-serif;
    font-size: var(--font-base);
    font-family: var(--font-family);
  }
  * { 
    box-sizing: border-box; 
    font-family: var(--font-family);
  }
  body { font-family: var(--font-family); margin: 12px; color: #eaeaea; background-color: #2c2c2c; font-size: 12px; }
  h3 { margin: 0 0 8px 0; font-size: 1.33rem; font-weight: 600; color: #ffffff; }
  .row { display: flex; align-items: center; gap: 8px; margin: 8px 0; flex-wrap: wrap; }
  .dropdown-row { flex-wrap: nowrap; align-items: flex-start; }
  button { padding: 6px 10px; border-radius: 4px; border: none; background: #0a84ff; color: #fff; cursor: pointer; font-size: 1rem; }
  button[disabled] { background: #666; cursor: not-allowed; }
  .icon-btn { width: 24px; height: 24px; padding: 0; font-size: 14px; display: flex; align-items: center; justify-content: center; }
  #selectedPath { font-size: 1rem; color: #cfcfcf; max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  #status { margin-top: 10px; font-size: 1rem; color: #0a84ff; }
  #logAreaContainer { margin-top:10px; border:1px solid #444; }
  #logArea { font-size:0.92rem; color:#ccc; height:160px; width:100%; padding:6px; border:none; resize:none; background:#1e1e1e; font-family: 'Cascadia Code', 'SFMono-Regular', 'Consolas', 'Courier New', monospace; }
  .footer { margin-top: 12px; font-size: 0.92rem; color: #9a9a9a; }
  .container { max-width: 420px; }
  select { 
    padding: 5px 25px 5px 5px; 
    border-radius: 4px; 
    border: 1px solid #555; 
    background: #1f1f1f url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23f3f3f3' d='M6 9L1 4h10z'/%3E%3C/svg%3E") no-repeat right 6px center;
    background-size: 12px;
    color: #f3f3f3; 
    font-size: 12px; 
    font-family: var(--font-family) !important;
    width: auto; 
    min-width: 120px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    outline: none;
    cursor: pointer;
  }
  select:disabled {
    background: #1a1a1a url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 9L1 4h10z'/%3E%3C/svg%3E") no-repeat right 6px center;
    background-size: 12px;
    color: #888;
    cursor: not-allowed;
  }
  select option { 
    font-family: var(--font-family) !important;
    font-size: 12px !important; 
    background: #1f1f1f !important; 
    color: #f3f3f3 !important; 
    padding: 4px;
  }
  .fieldLabel { font-weight:600; min-width:80px; font-size:1rem; }
  .checkboxLabel { display:flex; align-items:center; gap:6px; font-size:1rem; }
</style>
</head>
<body>
<div class="container">
  <h3>Hotfolder Auto-Open</h3>

  <div class="row dropdown-row">
    <span style="font-weight:600;">Hotfolder:</span>
    <span id="selectedPath" title="Hotfolder path"></span>
  </div>

  <div class="row">
    <button id="startMonitorBtn" disabled>Start Monitoring</button>
    <button id="stopMonitorBtn" disabled>Stop</button>
  </div>

  <div class="row dropdown-row">
    <span class="fieldLabel">Action Set:</span>
    <select id="actionSetSelect">
      <option value="">Loading…</option>
    </select>
    <button id="refreshActionsBtn" title="Reload actions list" class="icon-btn">↻</button>
  </div>

  <div class="row">
    <span class="fieldLabel">Action:</span>
    <select id="actionSelect" disabled>
      <option value="">Select action</option>
    </select>
  </div>

  <div class="row">
    <label class="checkboxLabel">
      <input id="autoRunAction" type="checkbox" />
      Run action after opening files
    </label>
  </div>

  <div id="status">Status: Initializing…</div>
  <div id="logAreaContainer">
    <textarea id="logArea" spellcheck="false" readonly></textarea>
  </div>

  <div class="footer">On first run, you will be prompted to pick the Desktop\hotfolder directory so the plugin can remember access. After that, monitoring starts automatically. Optionally, supply an action set + action name to run after each opened file.</div>
</div>
<script src="main.js"></script>
</body>
</html>
